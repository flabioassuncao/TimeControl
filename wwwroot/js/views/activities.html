<div class="intro">
    <div class="dtable hw100">
	   <div class="dtable-cell hw100">
	       <div class="container text-center">
		      <h1 class="intro-title animated fadeInDown"> TIME CONTROL </h1>
			  <p class="sub animateme fittext3 animated fadeIn"> Control the time you devote to your project </p>
		   </div>
        </div>
    </div>
</div>
<div class="main-container" ng-cloak>
	<div class="container">
		<div class="row">
			<div class="col-sm-12 page-content col-thin-right">
				<div class="inner-box category-content">
					<h2 class="title-2"> Performed activities </h2>
					<div class="table-responsive">
						<div class="table-action">
							<div class="table-search pull-right col-xs-7">
								<div class="form-group">
									<label class="col-xs-5 control-label text-right">Search <br></label>
									<div class="col-xs-7 searchpan">
                                         <!--<pre>Selected date is: <em>{{dt | date:'yyyy/MM/dd' }}</em></pre> -->
                                         <p class="input-group">
                                            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" ng-click="open1();"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </p>
                                        <a ng-click="searchName()" class="colorlink fa fa-cog"></a>
                                        <input placeholder="Search by activity"  class="form-control" id="search" ng-model="criterioDeBusca"  type="text" class="form-control" id="filter" ng-show="search">
                                        <input id="timetime" type="text" value="{{dt}}" ng-show="false">
                                        <!--<input id="timetime" type="text" ng-value="{{dt}}" ng-show="false">-->
                                        <br>
									</div>
								</div>
							</div>
						</div>
						<table id="addManageTable" class="table table-striped table-bordered add-manage-table table demo" data-filter="#filter" data-filter-text-only="true" ng-show="activities.length > 0">
							<thead>
							     <tr>
								   <th> Task </th>
								   <th data-sort-ignore="true"> Details </th>
								   <th data-type="numeric"> Duration </th>
								   <th> Actions </th>
								 </tr>
							</thead>
							<tbody ng-repeat="activity in act = (activities | filter:filterteste | filter: criterioDeBusca | filter: filterByUserNameCurrentContext ) | orderBy:criterioDeOrdenacao:direcaoDaOrdenacao">
							    <tr ng-repeat="time in times = (activity.Times | filter:true)" >
								    <td id="colActivityLink" class="add-img-td">
                                        <div ng-bind-html="SkipValidation((activity.Link | formatLink))">  </div> 
									</td>
									<td id="colActivityObservation" class="ads-details-td">
								        <div>
										  <p> {{activity.Observation}} </p>
										</div>
									</td>
									<td id="colActivityTime" class="price-td">
									   <div>
									       <strong> {{time.ActivityTime}}</strong>
									   </div>
									</td>
									<td id="colActivityActions" class="action-td">
									    <div>
									        <a ng-click="DeleteTime(time.TimeId)" class="colorlink fa fa-trash fa"></a> &nbsp
                                            <a ng-click="ContinueActivity(activity)" class="colorlink fa fa-play fa"> </a>&nbsp
                                            <a data-toggle="modal" data-target="#myModal" ng-click="ShowActivity(activity)" class="colorlink fa fa-expand fa"></a>
								        </div>
									</td>
                                    <!--<td>
                                        <div>
                                            {{time.StartDate | formatDate}}
                                        </div>
                                    </td>-->
							    </tr>
							</tbody>
						</table>
                        <div class="table-action">
						      <div class="table-search pull-right col-xs-7">
							     <div class="form-group">
								    <label class="col-xs-8 control-label text-right">Total time: {{ totalTimeActivities() }} <br></label>
								 </div>
							  </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
        <!-- Modal content  onlyActivity -->
            <div class="modal-content">
                <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"><div ng-bind-html="SkipValidation((onlyActivity.Link | formatLink))">  </div></h4>
                </div>
                        <table id="addManageTable" class="table table-striped table-bordered add-manage-table table demo" data-filter="#filter" >
							<thead>
							     <tr>
								   <th>  </th>
								   <th data-type="numeric"> Duration </th>
								   <th> Actions </th>
								 </tr>
							</thead>
							<tbody >
							    <tr ng-repeat="time in times = (onlyActivity.Times | filter:true)" >
								    <td id="popUpActivity" class="add-img-td">
                                        
									</td>
									<td id="popUpActivityTime" class="price-td">
									   <div>
									       <strong> {{time.ActivityTime}}</strong>
									   </div>
									</td>
									<td id="popUpActivityActions" class="action-td">
									    <div>
									        <a ng-click="DeleteTime(time.TimeId)" class="colorlink fa fa-trash fa"></a> &nbsp
                                            <a ng-click="ContinueActivity(onlyActivity)" class="colorlink fa fa-play fa"> </a>
								        </div>
									</td>
							    </tr>
							</tbody>
						</table>
                <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <br>
</div>