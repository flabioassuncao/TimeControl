<div class="intro">
    <div class="dtable hw100">
	   <div class="dtable-cell hw100">
	       <div class="container text-center">
		      <h1 class="intro-title animated fadeInDown"> TIME CONTROL </h1>
			  <p class="sub animateme fittext3 animated fadeIn"> Control the time you devote to your project </p>
		   </div>
        </div>
    </div>
</div>
<div class="main-container" ng-cloak>
	<div class="container">
		<div class="row">
			<div class="col-sm-12 page-content col-thin-right">
				<div class="inner-box category-content">
					<h2 class="title-2"> My projects </h2>
					<div class="table-responsive">
						<div class="table-action">
                            <div class="row">
                                <div class="form-inline">
                                    <div class="add-img-td table-search pull-right col-xs-12">
                                        <a href="" data-toggle="modal" data-target="#myModal">Create a new project</a>
                                    </div>
                                </div>
                            </div>
						</div>
						<div class="row" ng-repeat-start="u in users" ng-click="showDetail(u)" ng-class-odd="'alt'">
                            <div class="col-xs-1 text-left"><i ng-hide="active==u.ProjectName" class="fa fa-plus-square-o fa-2x"></i><i ng-show="active==u.ProjectName" class="fa fa-minus-square-o fa-2x"></i></div>
                            <div class="col-xs-2 text-left"><i ng-hide="active==u.ProjectName" ></i><i ng-show="active==u.ProjectName" ></i>&nbsp&nbsp{{u.ProjectName}}</div>
                        </div>
                        <div class="row" ng-repeat-end="" ng-show="active==u.ProjectName" ng-class-odd="'alt'">
                            <div class="col-xs-12"><h2 class="cap">{{u.ProjectName}}</i></h2></div>
                            <div class="col-md-3 col-xs-6 small">
                                <label>Adm</label> {{u.Administrator.UserName}}<br>
                            </div>
                            <div class="col-md-3 col-xs-6 small" >
                                <label>Members</label>
                                <div ng-repeat="belo in BelongToProject">
                                    {{belo.UserName}} &nbsp&nbsp
                                    <a ng-click="removerUserProject(belo.UserId, u.ProjectId)" class="colorlink fa fa-times fa">&nbspRemove</a>
                                </div>
                                <a ng-click="divUsers?divUsers=false:divUsers=true" class="colorlink fa fa-plus fa">&nbspAdd member</a>
                                <div ng-show="divUsers" class="form-group">
                                    <select class="form-control" ng-model="members.UserId" ng-options="item.UserId as item.UserName for item in members" data-ng-change="addUserToProject(members.UserId, u.ProjectId )">
                                        <option value="">Select to member</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 col-xs-6 small">
                                {{messageAdd}}
                            </div>
                            <div class="col-xs-12"><hr></div>
                        </div>
                        <br>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Creating a new project</h4>
            </div>
            <div class="modal-body">
                <div class="form-group col-xs-4" >
                    <label class="item item-input">Name project: </label> 
                    <input placeholder="The new project name"  class="form-control" id="" ng-model="nameProject"  type="text" id="" ng-readonly="txtNameProj">
                </div>
                <div class="form-group col-xs-4" ng-show="divAddMember">
                    <label class="item item-input">Users: </label> 
                    <select class="form-control" ng-model="members.UserId" ng-options="item.UserId as item.UserName for item in members" data-ng-change="AttachUser(members.UserId)"></select>
                </div>
                <div class="form-group col-xs-4">
                    {{message}}
                </div>
                <button ng-click="createProject(nameProject)" class="btn btn-primary btn-search btn-block"><strong>create proj</strong></button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
      </div>
    </div>
</div>